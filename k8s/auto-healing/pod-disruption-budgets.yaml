# Pod Disruption Budgets - Sigurojnë që të paktën një numër minimal pods janë gjithmonë të disponueshëm
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: api-gateway-pdb
  namespace: techstore
spec:
  minAvailable: 1  # Të paktën 1 pod duhet të jetë gjithmonë i disponueshëm
  selector:
    matchLabels:
      app: api-gateway

---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: product-service-pdb
  namespace: techstore
spec:
  minAvailable: 1
  selector:
    matchLabels:
      app: product-service

---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: user-service-pdb
  namespace: techstore
spec:
  minAvailable: 1
  selector:
    matchLabels:
      app: user-service

---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: order-service-pdb
  namespace: techstore
spec:
  minAvailable: 1
  selector:
    matchLabels:
      app: order-service

---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: category-service-pdb
  namespace: techstore
spec:
  minAvailable: 1
  selector:
    matchLabels:
      app: category-service

---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: analytics-service-pdb
  namespace: techstore
spec:
  minAvailable: 0  # Mund të tolerojë downtime (non-critical)
  selector:
    matchLabels:
      app: analytics-service

---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: notification-service-pdb
  namespace: techstore
spec:
  minAvailable: 0  # Mund të tolerojë downtime (non-critical)
  selector:
    matchLabels:
      app: notification-service
